<!DOCTYPE html>
<html>
    <head>
        <title>OpenStreetMapDrawer custom controllers demo</title>
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyArAE-uBvCZTRaf_eaFn4umUdESmoUvoxM"></script>
        <script>window.OSM_TOKEN = 'pk.eyJ1Ijoib3R0b3NybCIsImEiOiJjanZwNnA0NTQwMW14NDNscTVxMzB3Nmt2In0.OSK-k5UDfV-Ci213Vkzd7w';</script>
        <script type="text/javascript" src="../dist/osmdrawer.min.js"></script>
        <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?skin=sons-of-obsidian"></script>
        <link rel="stylesheet" href="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/css/bootstrap.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
        <script
          src="https://code.jquery.com/jquery-2.2.4.min.js"
          integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
          crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.2/js/tether.min.js"></script>
        <script src="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/js/bootstrap.js"></script>
        <style type="text/css">
          input[type=text] {
            border-width: 0;
            height: 28px !important;
          }
          .osmdrawer-selected {
            background: red !important;
          }
          .pointer {
            cursor: pointer;
          }
          td {
            padding: 10px;
          }
        </style>
    </head>
    <body>
      <div class="container">
        <h1 style="margin: 20px 0;">OpenStreetMapDrawer custom controllers demo</h1>
        <p>
            <a href="./index.html">See the basic example</a> | 
            <a href="./advanced.html">See the dynamic tools example</a>
        </p>
        <p>Almost every controller of the library can be customized, in order to increase the field of applicability of the library. Maybe 
          you have to use it in an already developed interface, so you can use your own controllers and all the events are binded automatically.</p>
        <p>With a bit of bootstrap, FontAwesome and friends, you can build your preferred interface.</p>
        <p>In this example I've used bootstrap 4-alpha along with a custom jQuery version (the library will use that one).</p>
        <div id="map-canvas" style="width: 100%; height: 400px;"></div>
        <hr />
        <div class="">
          <table class="alert alert-info">
            <tr>
              <td><i class="fa fa-info fa-2x" style="color: blue"></i></td>
              <td class="col-md-11"><p id="tips-ctrl" style="margin-bottom: 0"></p></td>
            </tr>
          </table>
        </div>
        <hr />
        <p>Here we use custom controllers</p>
        <button class="btn btn-primary" id="point-ctrl">point</button>
        <button class="btn btn-primary" id="circle-ctrl">circle</button>
        <hr />
        <p>Custom clear and export buttons</p>
        <i class="fa fa-remove fa-2x pointer" id="clear-ctrl"></i>
        <i class="fa fa-save fa-2x pointer" id="export-ctrl"></i>
        <hr />
        <h2>js code:</h2>
        <pre class="prettyprint linenums">
var cb = function () {
    var mymap = new OpenStreetMapDrawer.Map('#map-canvas', {
        tools: {
            point: {
                options: {
                    maxItemsAllowed: 5
                },
                ctrl: '#point-ctrl'
            },
            circle: {
              ctrl: '#circle-ctrl'
            }
        },
        clearMapCtrl: '#clear-ctrl',
        exportMapCtrl: '#export-ctrl',
        exportMapCb: function (data) {
          alert('data: ' + JSON.stringify(data));
        },
        tipsMapCtrl: '#tips-ctrl',
    });
    mymap.render();
}

OpenStreetMapDrawer.ready(cb);
        </pre>
        <h2>css code:</h2>
        <p>To manage the active state of the tools controllers</p>
        <pre class="prettyprint linenums">
.osmdrawer-selected {
  background: red !important;
}
        </pre>
      </div>
      <script type="text/javascript">
          var cb = function () {
              var mymap = new OpenStreetMapDrawer.Map('#map-canvas', {
                  tools: {
                      point: {
                          options: {
                              maxItemsAllowed: 5
                          },
                          ctrl: '#point-ctrl'
                      },
                      circle: {
                        ctrl: '#circle-ctrl'
                      }
                  },
                  clearMapCtrl: '#clear-ctrl',
                  exportMapCtrl: '#export-ctrl',
                  exportMapCb: function (data) {
                    alert('data: ' + JSON.stringify(data));
                  },
                  tipsMapCtrl: '#tips-ctrl',
              });
              mymap.render();
          }

          OpenStreetMapDrawer.ready(cb);
      </script>
    </body>
</html>
